(()=>{"use strict";const e=()=>{const e=document.querySelector(".header__cancel"),t=document.querySelector(".cancel-popup"),n=document.querySelector(".stop");e.addEventListener("click",(e=>{t.removeAttribute("style")})),n.addEventListener("click",(()=>{t.setAttribute("style","display: none;")}))},t=e=>{const t=document.createElement("div");return t.id="error",t.innerHTML=e,t},n=()=>{[...document.querySelectorAll("#error")].forEach((e=>{e.outerHTML=""}))},o=e=>!(e.length<2||e.length>64||!1===/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)),l=e=>!(e.length<2||e.length>64);window.onload=()=>{document.URL.includes("voting_information.html")?[...document.querySelectorAll(".percentage__visual")].forEach((e=>{const t=e.getAttribute("data-percentage");e.style.setProperty("--width",t)})):document.URL.includes("voting_constructor.html")?((()=>{const e=document.querySelector(".add-option__button"),t=document.querySelector(".add-option");e.addEventListener("click",(e=>{e.preventDefault();let n=document.createElement("li");n.className="list__item",n.innerHTML='\n        <button class="delete-item"><a href="./home.html"><span class="material-symbols-outlined">close</span></a></button>\n        <label class="voting_label" for="yes">\n            <input type="text" placeholder="option" id="option-input">\n        </label>\n        ',t.before(n)}))})(),document.querySelector(".option_list").addEventListener("click",(e=>{e.target.closest(".delete-item")&&(e.preventDefault(),[...document.querySelectorAll(".list__item")].length>1&&(e.target.closest(".list__item").outerHTML=""))})),e(),(()=>{const e=document.querySelector("#voting-title"),o=(document.querySelectorAll("#option-input"),document.querySelector(".voting__submit"));o.addEventListener("click",(l=>{l.preventDefault(),n(),""===e.value&&o.after(t("Add title"))}))})()):document.URL.includes("sign_out.html")||document.URL.includes("voting.html")?e():document.URL.includes("home.html")?(async()=>{fetch("https://voting-app-7bai.onrender.com/api/votings").then((e=>e.json())).then((e=>{const t=document.querySelector(".main__voting-list");for(const n of e){const e=document.createElement("li");e.className="voting-list__item voting",e.innerHTML=`\n            <h3 class="voting__title">${n.name}</h3>\n            <p class="voting__stats">${n.participators.length} people voted</p>\n            <button class="voting__more"><a href="./voting_information.html">open</a></button>`,t.append(e)}}))})():document.URL.includes("login.html")?(()=>{const e=document.querySelector(".input_email"),r=document.querySelector(".input_password");document.querySelector(".form__submit").addEventListener("click",(i=>{i.preventDefault(),n(),!1===o(e.value)&&e.after(t("Email is not valid")),!1===l(r.value)&&r.after(t("Password is not valid"))}))})():document.URL.includes("register.html")&&(()=>{const e=document.querySelector(".input_username"),r=document.querySelector(".input_email"),i=document.querySelector(".input_password");document.querySelector(".form__submit").addEventListener("click",(c=>{var s;if(c.preventDefault(),n(),0==!((s=e.value).length<2||s.length>64)&&e.after(t("Username is not valid")),!1===o(r.value)&&r.after(t("Email is not valid")),!1===l(i.value)&&i.after(t("Password is not valid")),0===[...document.querySelectorAll("#error")].length){const t={username:e.value,email:r.value,password:i};fetch("https://voting-app-7bai.onrender.com/api/users",{method:"POST",body:JSON.stringify(t)})}}))})()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFhQSxFQWJpQyxLQUM3QixNQUFNQSxFQUFlQyxTQUFTQyxjQUFjLG1CQUN0Q0MsRUFBY0YsU0FBU0MsY0FBYyxpQkFDckNFLEVBQWFILFNBQVNDLGNBQWMsU0FFMUNGLEVBQWFLLGlCQUFpQixTQUFVQyxJQUNwQ0gsRUFBWUksZ0JBQWdCLFFBQU8sSUFFdkNILEVBQVdDLGlCQUFpQixTQUFTLEtBQ2pDRixFQUFZSyxhQUFhLFFBQVMsaUJBQWdCLEdBQ3JELEVDVlFDLEVBQXNCQyxJQUMvQixNQUFNQyxFQUFlVixTQUFTVyxjQUFjLE9BRzVDLE9BRkFELEVBQWFFLEdBQUssUUFDbEJGLEVBQWFHLFVBQVlKLEVBQ2xCQyxHQUVFSSxFQUFxQixLQUNSLElBQUlkLFNBQVNlLGlCQUFpQixXQUN0Q0MsU0FBUU4sSUFDbEJBLEVBQWFPLFVBQVksS0FDNUIsRUNEUUMsRUFBbUJDLEtBRXpCQSxFQUFNQyxPQUFTLEdBR1ZELEVBQU1DLE9BQVMsS0FHWSxJQVBoQiw2QkFPQUMsS0FBS0YsSUFLZkcsRUFBc0JDLEtBQzVCQSxFQUFTSCxPQUFTLEdBR2JHLEVBQVNILE9BQVMsSUNXOUJJLE9BQU9DLE9BNUJNLEtBS056QixTQUFTMEIsSUFBSUMsU0FBUywyQkNiWCxJQUFJM0IsU0FBU2UsaUJBQWlCLHdCQUN0Q0MsU0FBUVksSUFDVixNQUFNQyxFQUFRRCxFQUFLRSxhQUFhLG1CQUNoQ0YsRUFBS0csTUFBTUMsWUFBWSxVQUFXSCxFQUFLLElEYW5DN0IsU0FBUzBCLElBQUlDLFNBQVMsNEJFakJULE1BQ3JCLE1BQU1NLEVBQWtCakMsU0FBU0MsY0FBYyx1QkFDekNpQyxFQUFxQmxDLFNBQVNDLGNBQWMsZUFFbERnQyxFQUFnQjdCLGlCQUFpQixTQUFVQyxJQUN2Q0EsRUFBTThCLGlCQUNOLElBQUlDLEVBQWdCcEMsU0FBU1csY0FBYyxNQUMzQ3lCLEVBQWNDLFVBQVksYUFDMUJELEVBQWN2QixVQUFZLG9SQU0xQnFCLEVBQW1CSSxPQUFPRixFQUFhLEdBQzFDLEVBbUJERyxHQWZtQnZDLFNBQVNDLGNBQWMsZ0JBRS9CRyxpQkFBaUIsU0FBVUMsSUFDL0JBLEVBQU1tQyxPQUFPQyxRQUFRLGtCQUNwQnBDLEVBQU04QixpQkFDaUIsSUFBSW5DLFNBQVNlLGlCQUFpQixnQkFDbkNLLE9BQVMsSUFDQWYsRUFBTW1DLE9BQU9DLFFBQVEsZUFDN0J4QixVQUFZLElBRW5DLElGVkEsSUdqQmMsTUFDbEIsTUFBTXlCLEVBQWExQyxTQUFTQyxjQUFjLGlCQUVwQzBDLEdBRHNCM0MsU0FBU2UsaUJBQWlCLGlCQUMzQmYsU0FBU0MsY0FBYyxvQkFFbEQwQyxFQUFtQnZDLGlCQUFpQixTQUFTQyxJQUN6Q0EsRUFBTThCLGlCQUNOckIsSUFDd0IsS0FBckI0QixFQUFXRSxPQUNWRCxFQUFtQkUsTUFBTXJDLEVBQW1CLGFBQ2hELEdBQ0gsRUhPRyxJQUVJUixTQUFTMEIsSUFBSUMsU0FBUyxrQkFBb0IzQixTQUFTMEIsSUFBSUMsU0FBUyxlQUNwRSxJQUVJM0IsU0FBUzBCLElBQUlDLFNBQVMsYUl6QlJtQixXQUN0QkMsTUFBTSxvREFBb0RDLE1BQUtDLEdBQU9BLEVBQUlDLFNBQ3pFRixNQUFLRyxJQUNGLE1BQU1DLEVBQW1CcEQsU0FBU0MsY0FBYyxzQkFDaEQsSUFBSSxNQUFNb0QsS0FBVUYsRUFBTSxDQUN0QixNQUFNRyxFQUFhdEQsU0FBU1csY0FBYyxNQUMxQzJDLEVBQVdqQixVQUFZLDJCQUN2QmlCLEVBQVd6QyxVQUFZLDJDQUNLd0MsRUFBT0UsbURBQ1JGLEVBQU9HLGNBQWNwQywwSEFFaERnQyxFQUFpQkssT0FBT0gsRUFDNUIsSUFDSCxFSmFHLEdBRUl0RCxTQUFTMEIsSUFBSUMsU0FBUyxjSzFCYixNQUNqQixNQUFNK0IsRUFBb0IxRCxTQUFTQyxjQUFjLGdCQUMzQzBELEVBQXVCM0QsU0FBU0MsY0FBYyxtQkFDL0JELFNBQVNDLGNBQWMsaUJBRS9CRyxpQkFBaUIsU0FBVUMsSUFDcENBLEVBQU04QixpQkFDTnJCLEtBQ2dELElBQTdDSSxFQUFnQndDLEVBQWtCZCxRQUNqQ2MsRUFBa0JiLE1BQU1yQyxFQUFtQix3QkFFTyxJQUFuRGMsRUFBbUJxQyxFQUFxQmYsUUFDdkNlLEVBQXFCZCxNQUFNckMsRUFBbUIseUJBQ2xELEdBQ0gsRUxhRyxHQUVJUixTQUFTMEIsSUFBSUMsU0FBUyxrQk03Qk4sTUFDeEIsTUFBTWlDLEVBQXVCNUQsU0FBU0MsY0FBYyxtQkFDOUN5RCxFQUFvQjFELFNBQVNDLGNBQWMsZ0JBQzNDMEQsRUFBdUIzRCxTQUFTQyxjQUFjLG1CQUMvQkQsU0FBU0MsY0FBYyxpQkFFL0JHLGlCQUFpQixTQUFVQyxJUFJWLElBQUN3RCxFT29CM0IsR0FYQXhELEVBQU04QixpQkFDTnJCLElBQ3NELE1QWDNCK0MsRU9XTEQsRUFBcUJoQixPUFZuQ3hCLE9BQVMsR0FHYnlDLEVBQVN6QyxPQUFTLEtPUWxCd0MsRUFBcUJmLE1BQU1yQyxFQUFtQiwyQkFFRixJQUE3Q1UsRUFBZ0J3QyxFQUFrQmQsUUFDakNjLEVBQWtCYixNQUFNckMsRUFBbUIsd0JBRU8sSUFBbkRjLEVBQW1CcUMsRUFBcUJmLFFBQ3ZDZSxFQUFxQmQsTUFBTXJDLEVBQW1CLDBCQUVLLElBQXBELElBQUlSLFNBQVNlLGlCQUFpQixXQUFXSyxPQUFjLENBQ3RELE1BQU0rQixFQUFPLENBQ1RVLFNBQVVELEVBQXFCaEIsTUFDL0J6QixNQUFPdUMsRUFBa0JkLE1BQ3pCckIsU0FBVW9DLEdBRWRaLE1BQU0saURBQWtELENBQUNlLE9BQVEsT0FBUUMsS0FBTUMsS0FBS0MsVUFBVWQsSUFDbEcsSUFDSCxFTklHLEVBQ0osQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xlbmRpbmdfMS8uL3NyYy9VSS9jYW5jZWxQb3B1cEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vbGVuZGluZ18xLy4vc3JjL2xvZ2ljL2Vycm9yTWVzc2FnZUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vbGVuZGluZ18xLy4vc3JjL2xvZ2ljL2F1dGhlbnRlZmljYXRpb25WYWxpZGF0aW9uLmpzIiwid2VicGFjazovL2xlbmRpbmdfMS8uL3NyYy9hcHAuanMiLCJ3ZWJwYWNrOi8vbGVuZGluZ18xLy4vc3JjL1VJL3BlcmNlbnRIYW5kbGVyLmpzIiwid2VicGFjazovL2xlbmRpbmdfMS8uL3NyYy9VSS92b3RpbmdDb25zdHJ1Y3RvckZvcm1IYW5kbGVyLmpzIiwid2VicGFjazovL2xlbmRpbmdfMS8uL3NyYy9sb2dpYy92b3RpbmdDcmVhdG9yLmpzIiwid2VicGFjazovL2xlbmRpbmdfMS8uL3NyYy9sb2dpYy92b3RpbmdMaXN0SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9sZW5kaW5nXzEvLi9zcmMvbG9naWMvbG9naW5IYW5kbGVyLmpzIiwid2VicGFjazovL2xlbmRpbmdfMS8uL3NyYy9sb2dpYy9yZWdpc3RyYXRpb25IYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhbmNlbFBvcHVwV2luZG93SGFuZGxlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19jYW5jZWxcIilcclxuICAgIGNvbnN0IGNhbmNlbFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWwtcG9wdXBcIilcclxuICAgIGNvbnN0IHN0b3BCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0b3BcIilcclxuXHJcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGNhbmNlbFBvcHVwLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpXHJcbiAgICB9KVxyXG4gICAgc3RvcEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNhbmNlbFBvcHVwLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTogbm9uZTtcIilcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNhbmNlbFBvcHVwV2luZG93SGFuZGxlciIsImV4cG9ydCBjb25zdCBjcmVhdGVFcnJvck1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgZXJyb3JNZXNzYWdlLmlkID0gXCJlcnJvclwiXHJcbiAgICBlcnJvck1lc3NhZ2UuaW5uZXJIVE1MID0gbWVzc2FnZVxyXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZVxyXG59XHJcbmV4cG9ydCBjb25zdCBjbGVhbkVycm9yTWVzc2FnZXMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjZXJyb3JcIildXHJcbiAgICBlcnJvck1lc3NhZ2VzLmZvckVhY2goZXJyb3JNZXNzYWdlID0+IHtcclxuICAgICAgICBlcnJvck1lc3NhZ2Uub3V0ZXJIVE1MID0gXCJcIlxyXG4gICAgfSlcclxufSIsImV4cG9ydCBjb25zdCB1c2VybmFtZVZhbGlkYXRpb24gPSAodXNlcm5hbWUpID0+IHtcclxuICAgIGlmKHVzZXJuYW1lLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIGVsc2UgaWYodXNlcm5hbWUubGVuZ3RoID4gNjQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlXHJcbn1cclxuZXhwb3J0IGNvbnN0IGVtYWlsVmFsaWRhdGlvbiA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvXHJcbiAgICBpZihlbWFpbC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGVtYWlsLmxlbmd0aCA+IDY0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGVtYWlsUmVnZXgudGVzdChlbWFpbCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG59XHJcbmV4cG9ydCBjb25zdCBwYXNzd29yZFZhbGlkYXRpb24gPSAocGFzc3dvcmQpID0+IHtcclxuICAgIGlmKHBhc3N3b3JkLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIGVsc2UgaWYocGFzc3dvcmQubGVuZ3RoID4gNjQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlXHJcbn0iLCJpbXBvcnQgY2FuY2VsUG9wdXBXaW5kb3dIYW5kbGVyIGZyb20gXCIuL1VJL2NhbmNlbFBvcHVwSGFuZGxlclwiXHJcbmltcG9ydCBwZXJjZW50YWdlSGFuZGxlciBmcm9tIFwiLi9VSS9wZXJjZW50SGFuZGxlclwiXHJcbmltcG9ydCB2b3RpbmdDb25zdHJ1Y3RvckZvcm1IYW5kbGVyIGZyb20gXCIuL1VJL3ZvdGluZ0NvbnN0cnVjdG9yRm9ybUhhbmRsZXJcIlxyXG5pbXBvcnQgdm90aW5nTGlzdEhhbmRsZXIgZnJvbSBcIi4vbG9naWMvdm90aW5nTGlzdEhhbmRsZXJcIlxyXG5pbXBvcnQgdm90aW5nQ3JlYXRvciBmcm9tIFwiLi9sb2dpYy92b3RpbmdDcmVhdG9yXCJcclxuaW1wb3J0IGxvZ2luSGFuZGxlciBmcm9tIFwiLi9sb2dpYy9sb2dpbkhhbmRsZXJcIlxyXG5pbXBvcnQgcmVnaXN0cmF0aW9uSGFuZGxlciBmcm9tIFwiLi9sb2dpYy9yZWdpc3RyYXRpb25IYW5kbGVyXCJcclxuXHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cclxuXHJcblxyXG5cclxuICAgIGlmKGRvY3VtZW50LlVSTC5pbmNsdWRlcyhcInZvdGluZ19pbmZvcm1hdGlvbi5odG1sXCIpKSB7XHJcbiAgICAgICAgcGVyY2VudGFnZUhhbmRsZXIoKVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZihkb2N1bWVudC5VUkwuaW5jbHVkZXMoXCJ2b3RpbmdfY29uc3RydWN0b3IuaHRtbFwiKSkge1xyXG4gICAgICAgIHZvdGluZ0NvbnN0cnVjdG9yRm9ybUhhbmRsZXIoKVxyXG4gICAgICAgIGNhbmNlbFBvcHVwV2luZG93SGFuZGxlcigpXHJcbiAgICAgICAgdm90aW5nQ3JlYXRvcigpXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGRvY3VtZW50LlVSTC5pbmNsdWRlcyhcInNpZ25fb3V0Lmh0bWxcIikgfHwgZG9jdW1lbnQuVVJMLmluY2x1ZGVzKFwidm90aW5nLmh0bWxcIikpIHtcclxuICAgICAgICBjYW5jZWxQb3B1cFdpbmRvd0hhbmRsZXIoKVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZihkb2N1bWVudC5VUkwuaW5jbHVkZXMoXCJob21lLmh0bWxcIikpIHtcclxuICAgICAgICB2b3RpbmdMaXN0SGFuZGxlcigpXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGRvY3VtZW50LlVSTC5pbmNsdWRlcyhcImxvZ2luLmh0bWxcIikpIHtcclxuICAgICAgICBsb2dpbkhhbmRsZXIoKVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZihkb2N1bWVudC5VUkwuaW5jbHVkZXMoXCJyZWdpc3Rlci5odG1sXCIpKSB7XHJcbiAgICAgICAgcmVnaXN0cmF0aW9uSGFuZGxlcigpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG53aW5kb3cub25sb2FkID0gbWFpbiIsImNvbnN0IHBlcmNlbnRhZ2VIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbGluZXMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wZXJjZW50YWdlX192aXN1YWxcIildXHJcbiAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gbGluZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBlcmNlbnRhZ2VcIilcclxuICAgICAgICBsaW5lLnN0eWxlLnNldFByb3BlcnR5KFwiLS13aWR0aFwiLCB3aWR0aClcclxuICAgIH0pXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgcGVyY2VudGFnZUhhbmRsZXIiLCJjb25zdCBhZGRPcHRpb25IYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYWRkT3B0aW9uQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtb3B0aW9uX19idXR0b25cIilcclxuICAgIGNvbnN0IGFkZE9wdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLW9wdGlvblwiKVxyXG5cclxuICAgIGFkZE9wdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIGxldCBuZXdPcHRpb25FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXHJcbiAgICAgICAgbmV3T3B0aW9uRWxlbS5jbGFzc05hbWUgPSBcImxpc3RfX2l0ZW1cIlxyXG4gICAgICAgIG5ld09wdGlvbkVsZW0uaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJkZWxldGUtaXRlbVwiPjxhIGhyZWY9XCIuL2hvbWUuaHRtbFwiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZFwiPmNsb3NlPC9zcGFuPjwvYT48L2J1dHRvbj5cclxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJ2b3RpbmdfbGFiZWxcIiBmb3I9XCJ5ZXNcIj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJvcHRpb25cIiBpZD1cIm9wdGlvbi1pbnB1dFwiPlxyXG4gICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgYFxyXG4gICAgICAgIGFkZE9wdGlvbkNvbnRhaW5lci5iZWZvcmUobmV3T3B0aW9uRWxlbSlcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZU9wdGlvbkhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBvcHRpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcHRpb25fbGlzdFwiKVxyXG5cclxuICAgIG9wdGlvbkxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmRlbGV0ZS1pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWxlbWVudHMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5saXN0X19pdGVtXCIpXVxyXG4gICAgICAgICAgICBpZihvcHRpb25FbGVtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25Ub0RlbGV0ZSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmxpc3RfX2l0ZW1cIilcclxuICAgICAgICAgICAgICAgIG9wdGlvblRvRGVsZXRlLm91dGVySFRNTCA9IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IHZvdGluZ0NvbnN0cnVjdG9yRm9ybUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICBhZGRPcHRpb25IYW5kbGVyKClcclxuICAgIGRlbGV0ZU9wdGlvbkhhbmRsZXIoKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB2b3RpbmdDb25zdHJ1Y3RvckZvcm1IYW5kbGVyIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JNZXNzYWdlLCBjbGVhbkVycm9yTWVzc2FnZXMgfSBmcm9tIFwiLi9lcnJvck1lc3NhZ2VIYW5kbGVyXCJcclxuXHJcbmNvbnN0IHZvdGluZ0NyZWF0b3IgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN2b3RpbmctdGl0bGVcIilcclxuICAgIGNvbnN0IG9wdGlvbklucHV0TGlzdCA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI29wdGlvbi1pbnB1dFwiKV1cclxuICAgIGNvbnN0IGNyZWF0ZVZvdGluZ0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudm90aW5nX19zdWJtaXRcIilcclxuXHJcbiAgICBjcmVhdGVWb3RpbmdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgY2xlYW5FcnJvck1lc3NhZ2VzKClcclxuICAgICAgICBpZih0aXRsZUlucHV0LnZhbHVlID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVZvdGluZ0J1dHRvbi5hZnRlcihjcmVhdGVFcnJvck1lc3NhZ2UoXCJBZGQgdGl0bGVcIikpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHZvdGluZ0NyZWF0b3IiLCJjb25zdCB2b3RpbmdMaXN0SGFuZGxlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGZldGNoKFwiaHR0cHM6Ly92b3RpbmctYXBwLTdiYWkub25yZW5kZXIuY29tL2FwaS92b3RpbmdzXCIpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICBjb25zdCB2b3RpbmdzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX192b3RpbmctbGlzdFwiKVxyXG4gICAgICAgIGZvcihjb25zdCB2b3Rpbmcgb2YgZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zdCB2b3RpbmdFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXHJcbiAgICAgICAgICAgIHZvdGluZ0VsZW0uY2xhc3NOYW1lID0gXCJ2b3RpbmctbGlzdF9faXRlbSB2b3RpbmdcIlxyXG4gICAgICAgICAgICB2b3RpbmdFbGVtLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidm90aW5nX190aXRsZVwiPiR7dm90aW5nLm5hbWV9PC9oMz5cclxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ2b3RpbmdfX3N0YXRzXCI+JHt2b3RpbmcucGFydGljaXBhdG9ycy5sZW5ndGh9IHBlb3BsZSB2b3RlZDwvcD5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInZvdGluZ19fbW9yZVwiPjxhIGhyZWY9XCIuL3ZvdGluZ19pbmZvcm1hdGlvbi5odG1sXCI+b3BlbjwvYT48L2J1dHRvbj5gXHJcbiAgICAgICAgICAgIHZvdGluZ3NDb250YWluZXIuYXBwZW5kKHZvdGluZ0VsZW0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdm90aW5nTGlzdEhhbmRsZXIiLCJpbXBvcnQgeyBlbWFpbFZhbGlkYXRpb24sIHBhc3N3b3JkVmFsaWRhdGlvbiB9IGZyb20gXCIuL2F1dGhlbnRlZmljYXRpb25WYWxpZGF0aW9uXCJcclxuaW1wb3J0IHsgY3JlYXRlRXJyb3JNZXNzYWdlLCBjbGVhbkVycm9yTWVzc2FnZXMgfSBmcm9tIFwiLi9lcnJvck1lc3NhZ2VIYW5kbGVyXCJcclxuY29uc3QgbG9naW5IYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZW1haWxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X2VtYWlsXCIpXHJcbiAgICBjb25zdCBwYXNzd29yZElucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfcGFzc3dvcmRcIilcclxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0XCIpXHJcblxyXG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgY2xlYW5FcnJvck1lc3NhZ2VzKClcclxuICAgICAgICBpZihlbWFpbFZhbGlkYXRpb24oZW1haWxJbnB1dEVsZW1lbnQudmFsdWUpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBlbWFpbElucHV0RWxlbWVudC5hZnRlcihjcmVhdGVFcnJvck1lc3NhZ2UoXCJFbWFpbCBpcyBub3QgdmFsaWRcIikpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHBhc3N3b3JkVmFsaWRhdGlvbihwYXNzd29yZElucHV0RWxlbWVudC52YWx1ZSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkSW5wdXRFbGVtZW50LmFmdGVyKGNyZWF0ZUVycm9yTWVzc2FnZShcIlBhc3N3b3JkIGlzIG5vdCB2YWxpZFwiKSlcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBsb2dpbkhhbmRsZXIiLCJpbXBvcnQgeyB1c2VybmFtZVZhbGlkYXRpb24sIGVtYWlsVmFsaWRhdGlvbiwgcGFzc3dvcmRWYWxpZGF0aW9uIH0gZnJvbSBcIi4vYXV0aGVudGVmaWNhdGlvblZhbGlkYXRpb25cIlxyXG5pbXBvcnQgeyBjcmVhdGVFcnJvck1lc3NhZ2UsIGNsZWFuRXJyb3JNZXNzYWdlcyB9IGZyb20gXCIuL2Vycm9yTWVzc2FnZUhhbmRsZXJcIlxyXG5jb25zdCByZWdpc3RyYXRpb25IYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlcm5hbWVJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X3VzZXJuYW1lXCIpXHJcbiAgICBjb25zdCBlbWFpbElucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfZW1haWxcIilcclxuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dF9wYXNzd29yZFwiKVxyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXRcIilcclxuXHJcbiAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBjbGVhbkVycm9yTWVzc2FnZXMoKVxyXG4gICAgICAgIGlmKHVzZXJuYW1lVmFsaWRhdGlvbih1c2VybmFtZUlucHV0RWxlbWVudC52YWx1ZSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lSW5wdXRFbGVtZW50LmFmdGVyKGNyZWF0ZUVycm9yTWVzc2FnZShcIlVzZXJuYW1lIGlzIG5vdCB2YWxpZFwiKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZW1haWxWYWxpZGF0aW9uKGVtYWlsSW5wdXRFbGVtZW50LnZhbHVlKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgZW1haWxJbnB1dEVsZW1lbnQuYWZ0ZXIoY3JlYXRlRXJyb3JNZXNzYWdlKFwiRW1haWwgaXMgbm90IHZhbGlkXCIpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihwYXNzd29yZFZhbGlkYXRpb24ocGFzc3dvcmRJbnB1dEVsZW1lbnQudmFsdWUpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBwYXNzd29yZElucHV0RWxlbWVudC5hZnRlcihjcmVhdGVFcnJvck1lc3NhZ2UoXCJQYXNzd29yZCBpcyBub3QgdmFsaWRcIikpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2Vycm9yXCIpXS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZUlucHV0RWxlbWVudC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbElucHV0RWxlbWVudC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZElucHV0RWxlbWVudFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZldGNoKFwiaHR0cHM6Ly92b3RpbmctYXBwLTdiYWkub25yZW5kZXIuY29tL2FwaS91c2Vyc1wiLCB7bWV0aG9kOiBcIlBPU1RcIiwgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSl9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdHJhdGlvbkhhbmRsZXIiXSwibmFtZXMiOlsiY2FuY2VsQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FuY2VsUG9wdXAiLCJzdG9wQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlRXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImlubmVySFRNTCIsImNsZWFuRXJyb3JNZXNzYWdlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwib3V0ZXJIVE1MIiwiZW1haWxWYWxpZGF0aW9uIiwiZW1haWwiLCJsZW5ndGgiLCJ0ZXN0IiwicGFzc3dvcmRWYWxpZGF0aW9uIiwicGFzc3dvcmQiLCJ3aW5kb3ciLCJvbmxvYWQiLCJVUkwiLCJpbmNsdWRlcyIsImxpbmUiLCJ3aWR0aCIsImdldEF0dHJpYnV0ZSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJhZGRPcHRpb25CdXR0b24iLCJhZGRPcHRpb25Db250YWluZXIiLCJwcmV2ZW50RGVmYXVsdCIsIm5ld09wdGlvbkVsZW0iLCJjbGFzc05hbWUiLCJiZWZvcmUiLCJhZGRPcHRpb25IYW5kbGVyIiwidGFyZ2V0IiwiY2xvc2VzdCIsInRpdGxlSW5wdXQiLCJjcmVhdGVWb3RpbmdCdXR0b24iLCJ2YWx1ZSIsImFmdGVyIiwiYXN5bmMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJqc29uIiwiZGF0YSIsInZvdGluZ3NDb250YWluZXIiLCJ2b3RpbmciLCJ2b3RpbmdFbGVtIiwibmFtZSIsInBhcnRpY2lwYXRvcnMiLCJhcHBlbmQiLCJlbWFpbElucHV0RWxlbWVudCIsInBhc3N3b3JkSW5wdXRFbGVtZW50IiwidXNlcm5hbWVJbnB1dEVsZW1lbnQiLCJ1c2VybmFtZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==